= RAD RACE 2015

On Sept 25th and 26th we (Jeroen van der Wal & Dan Haywood) took part in the http://www.radrace.org/en/index.html[Original RAD Race] competition.  This is a competition staged each year, this year (as in previous years) hosted and sponsored by Cap Gemini, and held in their offices in Utrecht, Netherlands.

The competition consists of teams of exactly two team members; there were eight in total.  The competition is held under very strict conditions: 8 hours of development on the first day, and a further 4 hours of coding the next.  If you do the maths you'll work out that means a sum total of 24 hours (2 team members x 12 hours), or 3 person-days.

All the other teams used proprietary tools such as http://www.nout.fr/[NoutBuilder], http://www.thinkwisesoftware.com/en/[ThinkWise], https://www.progress.com/[Progress], http://www.salesforce.com/[SalesForce], http://www.uniface.com/[Uniface] and https://www.mendix.com/[Mendix].  We were the only open source entry, using http://isis.apache.org[Apache Isis] (along with supporting modules in http://isisaddons.org[Isis Addons]); in fact we think we are the first open source entry in the 17 years history of the competition.

OK, we didn't win... that honour went to Nout (who also won the year before), with ThinkWise in the runners' up position.  Teams weren't particularly ranked after that, but we got the impression we were mid-table, which we think is pretty good in the face of the competition.  But you can judge for yourself, because our entry is in this repo.  Either download and build the code, or simply scroll down the page to look at the screenshots/our commentary of the app.

The competition itself was written up in http://www.computable.nl[Computable], a significant Netherlands' publication in the IT space.  You can read the article (in its original Dutch) http://www.computable.nl/artikel/achtergrond/development/5612777/1277180/de-pijnloze-toekomst-van-applicatieontwikkeling.html[here], but (courtesy of google) you can also read it https://translate.google.com/#auto/en/RAD%20Race%202015%0ADe%20pijnloze%20toekomst%20van%20applicatieontwikkeling%0A29-09-2015%2011%3A58%20%7C%20Door%20Dr%C3%A9%20de%20Man%20%7C%20Lees%20meer%20artikelen%20over%3A%20Ruby%20(on%20Rails)%20%7C%20Er%20zijn%20nog%20geen%20reacties%20op%20dit%20artikel%20%7C%20Dit%20artikel%20heeft%20nog%20geen%20cijfer%20(te%20weinig%20beoordelingen)%20%7C%20Permalink%0ARAD%20Race%202015%0AMiren%20Lafourcade%20toont%20de%20winnende%20applicatie%20aan%20de%20andere%20deelnemers.%20%5BFoto%3A%20Dr%C3%A9%20de%20Man%5D%0A%0ADe%20RAD%20Race%20heeft%20een%20lange%20traditie%3A%20dit%20jaar%20is%20de%20zeventiende%20editie%20en%20de%20eerste%20vond%20plaats%20in%201997.%20In%20het%20begin%20domineerden%20de%20case%20tools%20maar%20al%20snel%20volgenden%204GL%E2%80%99s%2C%20later%20kwamen%20daar%20de%20nieuwere%20talen%20met%20frameworks%20bij%2C%20compacte%20talen%20als%20Ruby%20en%20programma%E2%80%99s%20die%20al%20dan%20niet%20op%20basis%20van%20modellen%20code%20genereerde%20of%20bestaande%20code%20configureerden.%20De%20winnaar%20van%20dit%20jaar%2C%20Nout%2C%20heeft%20dan%20ook%20als%20motto%3A%20programmeer%20niet%2C%20parametriseer%20(%E2%80%98ne%20programmez%20pas%2C%20parametrisez%E2%80%99).%0A%0ANout%20heeft%20natuurlijk%20het%20gelijk%20van%20de%20winnaar%20aan%20zijn%20kant.%20De%20geschiedenis%20van%20de%20RAD%20Race%20bevestigt%20het%20gelijk%20van%20Nout%20nog%20eens.%20De%20teams%20die%20het%20allerbeste%20scoorden%20in%20al%20die%20jaren%2C%20waren%20steeds%20teams%20die%20modelleerden%20en%20configureerden%20en%20niet%20programmeerden.%20De%20teams%20die%20programmeerden%20met%20een%20conventionele%20taal%20als%20C%2B%2B%2C%20Java%20of%20C%23%20zonder%20veel%20hulp%20van%20frameworks%20die%20het%20programmeerwerk%20tot%20het%20uiterste%20beperkten%2C%20presteerden%20slecht.%0A4GL%0ACompacte%20talen%20als%20Ruby%2C%20python%2C%20et%20cetera%20en%20in%20een%20heel%20ver%20verleden%20Cobol%2C%20hebben%20in%20het%20verleden%20bewezen%20te%20kunnen%20concurreren%20met%20andere%20oplossingen%20maar%20lieten%20het%20dit%20jaar%20om%20welke%20reden%20dan%20ook%20afweten.%20Aan%20de%20andere%20kant%20zagen%20we%20twee%20namen%20die%20nog%20bijna%20uit%20de%20begintijd%20van%20de%20RAD%20Race%20stamden%2C%20in%20it-termen%20een%20eeuwigheid%20geleden%3A%20Progress%20en%20Uniface.%20Het%20team%20van%20Progress%20gebruikte%20echter%20niet%20de%20moderne%20versie%20van%20de%204GL%2C%20maar%20Rollbase%2C%20een%20door%20Progress%20overgenomen%20drag%20en%20drop-oplossing%20die%20in%20de%20categorie%20van%20nieuwe%20tools%20hoort.%20Rollbase%20produceert%20overigens%20Java-%20en%20Javascriptcode%20en%20Java-script.%20Verder%20gebruikte%20het%20team%20onder%20andere%20Open%20Edge.%20Uniface%20daarentegen%20werkte%20met%20Uniface%209.7%2C%20de%20allernieuwste%20versie%20van%20de%20oorspronkelijke%204GL.%204GL%E2%80%99s%20zijn%20ook%20compact%20en%20veel%20standaardfunctionaliteit%20wordt%20geconfigureerd.%20In%20loop%20der%20jaren%20is%20er%20echter%20heel%20veel%20moderne%20functionaliteit%20bijgekomen%20met%20name%20in%20het%20Uniface-platform%20zodat%20de%20applicaties%20zich%20bijvoorbeeld%20heel%20erg%20thuis%20voelen%20in%20de%20cloud.%20De%20komende%20dagen%20komen%20we%20hier%20waarschijnlijk%20nog%20op%20terug.%0ADe%20wedstrijd%20van%20dit%20jaar%20betrof%20een%20applicatie%20om%20geld%20te%20werven%20voor%20goede%20doelen%20(deze%20zal%20later%20ook%20algemeen%20beschikbaar%20worden).%20In%20eerste%20instantie%20was%20dat%20via%20een%20zogenaamd%20eetfeest%20(een%20Belgisch%20fenomeen)%20maar%20op%20dag%20twee%20van%20de%20race%20kregen%20de%20teams%20nog%20de%20opdracht%20om%20meerdere%20events%20mogelijk%20te%20maken%20en%20er%20nog%20een%20geheel%20ander%20evenement%20aan%20toe%20te%20voegen.%20Voor%20de%20beste%20deelnemers%20was%20dat%20laatste%20geen%20probleem%2C%20de%20meesten%20kwamen%20er%20echter%20niet%20meer%20aan%20toe.%0AC%2B%2B%0ANout%20won%20in%20de%20eerste%20plaats%20doordat%20ze%20de%20toch%20pittige%20opgave%20niet%20alleen%20binnen%20de%20gestelde%20tijd%2C%20geheel%20conform%20specificaties%20en%20met%20op%20een%20piepklein%20detail%20na%20werkende%20functionaliteit%20opleverde%20met%20extra%20functionaliteit%20(zie%20het%20artikel%20van%20gisteren).%20Het%20team%20van%20Nout%2C%20Miren%20Lafourcade%20en%20J%C3%A9r%C3%B4me%20Olivares%2C%20maakte%20gebruik%20van%20een%20eigen%20in%20C%2B%2B%20geschreven%20kern%2C%20Nout%20Builder%2C%20waarmee%20ze%20bouwstenen%20configureren%20die%20onder%20meer%20in%20html%2C%20Javascript%20en%20in%20toenemende%20mate%20in%20html5-applicaties%20opleveren.%20Er%20wordt%20niet%20geprogrammeerd%2C%20maar%20uitsluitend%20geconfigureerd.%0AThinkwise%20werkte%20met%20een%20datamodel%20dat%20in%20een%20reeks%20van%20databases%20in%20principe%20willekeurige%20programmeertalen%20applicaties%20genereert.%20Er%20wordt%20geconfigureerd%20maar%20er%20kunnen%20code-snippets%20worden%20toegevoegd%20die%20bij%20iedere%20nieuwe%20%20applicatiegeneratie%20behouden%20blijven.%20Nu%20was%20dat%20C%23%2C%20maar%20in%20theorie%20zou%20dat%20ieder%20andere%20taal%20kunnen%20zijn.%20Dat%20maakt%20het%20tool%20bijzonder%20toekomstbestendig.%20Door%20de%20grote%20aandacht%20voor%20business%20rules%20is%20het%20tool%20ook%20in%20dat%20opzicht%20klaar%20voor%20de%20toekomst.%20Jasper%20Kloost%20en%20Anne%20Buit%20van%20Thinkwise%20toonden%20zich%20blij%20verrast%20door%20de%20goede%20score%20en%20trokken%20bovendien%20conclusies%20uit%20de%20Race%20op%20basis%20waarvan%20ze%20verwachten%20volgend%20jaar%20te%20kunnen%20winnen.%0ACapgemini%20en%20Progress%0ANummer%20drie%20was%20een%20team%20van%20Capgemini%2C%20Robbert%20van%20der%20Pas%20en%20Hans%20Harts%2C%20met%20onder%20andere%20Visual%20Studio%202015%2C%20Resharper%2C%20Xamarin%20Studio%2C%20Xforece%20en%20Salesforce.%20Ook%20hier%20werd%20gemodelleerd%20en%20het%20bijzondere%20was%20dat%20de%20applicatie%20vooral%20geschikt%20was%20voor%20mobile%2C%20al%20kan%20in%20principe%20iedere%20user%20interface%20gebruikt%20worden.%20Het%20team%20deed%20vorig%20jaar%20ook%20al%20mee%20maar%20scoorde%20toen%20veel%20minder%20hoog.%20Ervaring%20zowel%20in%20technisch%20als%20in%20tactisch%20opzicht%20loont%2C%20zo%20blijkt%20steeds%20weer.%0AOok%20Het%20team%20van%20Progress%20slaagde%20erin%20de%20applicaties%20met%20de%20wijzigingen%20van%20dag%20twee%20af%20te%20krijgen.%20Het%20werkte%20met%20het%20Progress%20Rollbase-platform.%20Met%20name%20de%20manier%20waarop%20leveranciers%20gevarieerd%20konden%20worden%20was%20goed%20uitgewerkt%2C%20de%20jury%20was%20gecharmeerd%20maar%20het%20team%20had%20ook%20een%20paar%20aannamen%20gemaakt%20tijdens%20de%20bouw%20die%20zich%20later%20wreekten.%20In%20een%20echt%20project%20hadden%20die%20in%20goed%20overleg%20met%20de%20project%20owner%20waarschijnlijk%20vermeden%20kunnen%20worden.%0ATimeline%20en%20Incode.org%0ABij%20Timeline%20werd%20gewerkt%20met%20een%20eigen%20tool%20dat%20in%20feite%20ontwikkeld%20is%20om%20zeer%20specifieke%20erp-oplossingen%20te%20schrijven%20voor%20om%20het%20even%20welke%20branche%2C%20TimeLine%20Neo%2FDeveloper%20en%20met%20de%20bijbehorende%20TimeLine%20Server.%20Verder%20werd%20onder%20andere%20met%20VS%20Studio%20gewerkt.%20De%20structuur%20zat%20goed%20in%20elkaar%20en%20de%20jury%20was%20gecharmeerd%20van%20de%20duidelijke%20en%20fraaie%20schermlayout.%20Het%20team%20had%20een%20redelijke%20hoeveelheid%20functionaliteit%20af%20die%20er%20verder%20qua%20structuur%20en%20user%20interface%20zeer%20goed%20in%20elkaar%20zat.%0AJeroen%20van%20der%20Wal%20en%20Dan%20Haywood%20van%20Incode.org%20wisten%20met%20hun%20eigen%20opensource-oplossing%20%20ook%20goed%20te%20scoren.%20Zij%20werkten%20met%20Intellij%20IDEA%20en%20Apache%20isis%2C%20een%20open%20source%20ontwikkelframework%20voor%20Java%20dat%20werkt%20volgens%20de%20principes%20van%20Domain%20Driven%20Design%20en%20Naked%20Objects.%20De%20kracht%20van%20het%20framework%20is%20dat%20je%20alleen%20voor%20de%20domeinlaag%20code%20schrijft%20en%20dat%20de%20user%20interface%2C%20database%20en%20restful%20api%20in%20run-time%20gegenereerd%20worden.%20Het%20team%20zou%20een%20stuk%20beter%20gescoord%20hebben%2C%20ware%20het%20niet%20dat%20het%20heel%20veel%20tijd%20verloor%20met%20de%20data-import%2C%20overigens%20een%20vrijwel%20iedere%20jaar%20terugkerend%20probleem%20bij%20%C3%A9%C3%A9n%20van%20de%20teams.%0ADe%20basis%20van%20de%20door%20het%20team%20van%20Uniface%20gebouwde%20applicatie%20was%20heel%20goed.%20Een%20van%20de%20juryleden%20was%20er%20zelfs%20heel%20erg%20door%20bekoord.%20Toch%20had%20het%20team%20om%20welke%20reden%20dan%20ook%20minder%20geproduceerd%20dan%20de%20hoger%20ge%C3%ABindigde%20deelnemers%20en%20ontbraken%20essenti%C3%ABle%20zaken%20als%20de%20prijzen%20in%20de%20rapportage.%0AMendix%0ADat%20gold%20in%20nog%20sterkere%20mate%20voor%20het%20Capgemini-team%2C%20dat%20werkte%20met%20Mendix.%20Op%20de%20achtergrond%20waren%20heel%20veel%20zaken%20bijna%20klaar%20maar%20het%20team%20kon%20weinig%20functionaliteit%20tonen.%20Jammer%2C%20want%20Mendix%20is%20nu%20juist%20erg%20geschikt%20voor%20situaties%20als%20deze.%20Het%20team%20was%20zich%20echter%20ook%20erg%20bewust%20van%20de%20eigen%20tekortkomingen%3A%20er%20was%20te%20weinig%20(goed)%20overlegd%20en%20geanalyseerd.%20Het%20deed%20in%20dat%20opzicht%20denken%20aan%20het%20team%20van%20Capgemini%20van%20vorig%20jaar%2C%20dat%20het%20dit%20jaar%20zoveel%20beter%20deed.%0AAlle%20teams%20gaven%20aan%20dat%20ze%20enorm%20veel%20geleerd%20hadden.%20Zo%20gaf%20Nout%20aan%20dat%20het%20plannen%20maakte%20om%20sommige%20goede%20eigenschappen%20van%20het%20tool%20van%20nummer%20twee%2C%20Thinkwise%2C%20in%20hun%20product%20te%20integreren%2C%20net%20zoals%20Thinkwise%20overwoog%20sommige%20eigenschappen%20van%20Nout%20ter%20inspiratie%20te%20gebruiken.%20Zo%20doet%20de%20RAD%20Race%20precies%20dat%20wat%20er%20van%20verwacht%20zou%20mogen%20worden%3A%20het%20stoot%20bijna%20als%20een%20Formule%201-race%20de%20it-bedrijven%20op%20om%20hun%20tools%20zo%20ver%20mogelijk%20te%20perfectioneren.%20Voor%20de%20jury%20is%20dat%20alleen%20maar%20winst%3A%20zij%20zien%20vanaf%20een%20comfortabele%20afstand%20hoe%20de%20pijnloze%20toekomst%20van%20applicatieontwikkeling%20langzaam%20werkelijkheid%20wordt.%0A%0A%0ARead%20more%3A%20http%3A%2F%2Fwww.computable.nl%2Fartikel%2Fachtergrond%2Fdevelopment%2F5612777%2F1277180%2Fde-pijnloze-toekomst-van-applicatieontwikkeling.html%23ixzz3nQYy3KAZ[
translated to English].

And here's the paragraph that relates to our effort:

[quote, computable.nl, RAD Race 2015]
____
Jeroen van der Wal and Dan Haywood of http://incode.org[incode.org] with their own open-source solution also scored well. They worked with IntelliJ IDEA and Apache Isis, an open source development framework for Java that works on the principles of Domain Driven Design and Naked Objects. The strength of the framework is that you can only write for the domain layer code and the user interface, database and restful api be generated at run-time. The team would have scored a lot better, were it not that it lost a lot of time with the data import, incidentally, virtually every year recurring problem with one of the teams.
____



== The application

The requirements for the app were to create an application some sort of "club", eg soccer club or basketball club, or, I suppose, a scouts club or a school fundraisers club.  The idea was to build an app to allow this club to plan events, specifically focusing on putting together a menu.

The requirements ran to 16 pages, but I can't show them to you because they were under strict lock-n-key: the intellectual property belongs to the RAD RACE organizers.  But I can, I think, tell you what I remember:

* allow the club administrator to be able to define an event, with a menu, of various menu items (we had some example menus to get the idea)

* members of the club would get a different price from non-members

* the app would be accessible via web browser for regular users (ie not administrator) to decide to attend an event and to select their food selection from the menu (eg 3 x meat, 1 x fish, 2 x salads etc).

* the app would allow the regular user to print out the available menu (eg to show to their family and friends so that they could decide what they want), and also to print out an order once made

* the app would also allow the administrator to print out the order once placed, with an appropriate purchase order reference, and would also allow the administrator to print out a "pick list" for the items to purchase from each of the suppliers.

There were some further requirements that I'm a bit more vague about:

* be able to perform "marketing actions" so that the administrator could figure out how well their campaign for a particular event

* to support different event types

* some other stuff, I'm sure

Overall I think we implemented about 50~70% of the requirements.  For the record, the winning team and runner up both implemented all the requirements, including some - provided as "change requests" - to the teams 45 minutes before the end of the competition.  Kudos to those guys; it was a challenging event.




== Domain model

The domain model that we ended up with was:

image::http://yuml.me/5166b3f3[link="http://yuml.me/edit/5166b3f3"]


Actually, our first version (sketched out in 10 minutes) was a little bit simpler than this... we simply had each menu item as many-to-one with ingredient.  But we spent a further 10 minutes later on in the first day refactoring to the more generalized design.

If you're a fan of Peter Coad's https://en.wikipedia.org/wiki/Object_Modeling_in_Color[Modeling in Color], then the "blue" stuff is ingredient, ingredient category, supplier; the green stuff is event, menu, menu item; the "pink" stuff is order, order item.

[source]
----
[Event]++->1[Menu]
[Menu]++->0..*[MenuItem]
[Person]<->*[Order]
[Order]++->0..*[OrderItem|quantity]
[OrderItem]->[MenuItem]
[MenuItem]->dependsUpon*>[MenuItem]
[MenuItem]*->*[Ingredient]
[Ingredient]*->[[IngredientCategory]
[Ingredient]*->[[Supplier]
----




== Screenshots

As mentioned above, the competition ran for 8 hours over the first day and 4 hours on the second.  The afternoon was spent by the judges looking at all eight teams' efforts to decide on the overall winner.  The screenshots below show what we demonstrated... though in the heat of the battle I've realized that we forgot to show quite couple of things.

Anyway...


=== Logging in as club administrator

On the login page we configured the http://isis.apache.org/guides/rg.html#_rg_services-spi_manpage-UserRegistrationService[UserRegistrationService] SPI domain service along with the supporting http://isis.apache.org/guides/rg.html#_rg_services-api_manpage-EmailService[EmailService] API domain service in order that Apache Isis displayed the sign-up link:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/010-logon-page-sign-up-now.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/010-logon-page-sign-up-now.png"]


pass:[<br/><br/><br/>]

However, we also set up `domainapp-admin` as an our "club administrator".  This was part of our fixture data; when we develop Isis applications, we always run with an in-memory database (more on this later); our fixture data gets the app to a known initial state.

So, we can log in as the "domainapp-admin":

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/020-logon-page-as-admin.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/020-logon-page-as-admin.png"]



We customized the home page (using the http://isis.apache.org/guides/rg.html#_rg_annotations_manpage-HomePage[@HomePage] annotation) to return a http://isis.apache.org/guides/rg.html#_rg_annotations_manpage-ViewModel[view model] which showed the events for the club, past, present and future:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/030-home-page-admin.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/030-home-page-admin.png"]

We set up the fixture data so that the "BBQ Event" would be current.  As I write these words, that was a week ago... and so it is now in the "past events" bucket.



=== BBQ Event

Each `Event` consists of a bunch data, including the (strangely named) inscription start and end dates; I think the idea was those represent the dates that someone can choose to attend the event.

As per our domain model (above), we decided that each `Event` would have precisely one `Menu`.  We probably made things a bit more difficult than they needed to be, but the competition organizer made hints that we should keep the application flexible for future requirements changes.  This went against our better instincts (YAGNI), but on balance we felt that since `Event` and `Menu`

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/040-event.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/040-event.png"]






Here's what our `Menu` domain object looks like:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/050-menu.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/050-menu.png"]



It consists of a list of ``MenuItem``s, each of which has a price for the member.  We decided that the non-member price would be defined a the `Menu` level ("non member-supplement"):

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/060-menu-item-create.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/060-menu-item-create.png"]



=== Publishing a Menu

Once a `Menu` has been defined, one of the requirements was to be able to "publish" it, eg so that it could be downloaded as a PDF from a website for would-be attendees to peruse:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/070-publish-menu.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/070-publish-menu.png"]



Our application used the (non-ASF) http://github.com/isisaddons/isis-module-docx[Isis addons' docx] module to generate a Word document based on a Word template (using Smart tags).

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/080-menu-downloaded.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/080-menu-downloaded.png"]



Viewing in Word gives the following glorious experience:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/090-menu-in-word.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/090-menu-in-word.png"]

We admit it, not pretty.  However, the point of the (non-ASF) http://github.com/isisaddons/isis-module-docx[Isis addons' docx] module is that the template (into which the data is "mail merged") is designed using nothing more esoteric than Word itself.   You can find the template https://github.com/incodehq/radrace2015/blob/master/app/src/main/java/domainapp/app/services/export/MenuReport.docx[here].



=== Excel downloads

As a bit of "candyfloss" we decided to integrate the (non-ASF) http://github.com/isisaddons/isis-module-excel[Isis addons' excel] module, which allows any table to be downloaded as an Excel spreadsheet.  For example, the menu items collection:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/100-menu-items-alternative-views.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/100-menu-items-alternative-views.png"]



which can be viewed as a "download as Excel" view:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/110-menu-items-download-as-excel.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/110-menu-items-download-as-excel.png"]


meaning that it can be downloaded as a `.xlsx` file and then opened within Excel:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/120-menu-items-in-excel.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/120-menu-items-in-excel.png"]



=== Ingredients and Suppliers

The club administrator can also use the app to set up `Ingredient`s with associated `Supplier` and `IngredientCategory`.  We loaded this fixture data from an https://github.com/incodehq/radrace2015/blob/master/fixture/src/main/java/domainapp/fixture/scenarios/spreadsheets/EventImport.xls[spreadsheet]; each row corresponded to a https://github.com/incodehq/radrace2015/blob/master/fixture/src/main/java/domainapp/fixture/scenarios/spreadsheets/EventImport.java[view model] which used injected services to actually https://github.com/incodehq/radrace2015/blob/master/fixture/src/main/java/domainapp/fixture/scenarios/spreadsheets/EventImport.java#L212[create] the entities.

The "All ingredients" menu item:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/200-ingredients.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/200-ingredients.png"]


listed the ``Ingredient``s imported from the fixture data spreadsheet:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/210-ingredients-list-all.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/210-ingredients-list-all.png"]


Our `Ingredient` object looked like:

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/220-ingredient.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/220-ingredient.png"]



[NOTE]
====
pending further commentary...
====


image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/225-ingredient.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/225-ingredient.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/230-ingredient-depend-upon.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/230-ingredient-depend-upon.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/240-ingredient-depend-upon-prompt.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/240-ingredient-depend-upon-prompt.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/250-ingredient-depend-upon-ok.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/250-ingredient-depend-upon-ok.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/260-ingredient-depends-upon-collection.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/260-ingredient-depends-upon-collection.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/400-bookmarks.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/400-bookmarks.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/500-event-orders.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/500-event-orders.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/510-logon-page-as-theo.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/510-logon-page-as-theo.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/520-home-page-theo.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/520-home-page-theo.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/530-available-events.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/530-available-events.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/540-orders-for-events.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/540-orders-for-events.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/550-inspect-order.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/550-inspect-order.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/560-open-basket.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/560-open-basket.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/570-add-order-items.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/570-add-order-items.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/580-select-menu-items-to-create-order-item.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/580-select-menu-items-to-create-order-item.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/590-order-updated.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/590-order-updated.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/600-update-quantity.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/600-update-quantity.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/610-update-quantity-amount.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/610-update-quantity-amount.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/620-order-item-should-have-been-updated.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/620-order-item-should-have-been-updated.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/630-print-order.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/630-print-order.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/640-order-downloaded.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/640-order-downloaded.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/650-view-order-in-word.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/650-view-order-in-word.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/660-basket-submit-order.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/660-basket-submit-order.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/670-order-submitted-and-immutable.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/670-order-submitted-and-immutable.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/680-logout-then-back-as-admin.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/680-logout-then-back-as-admin.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/700-logon-as-admin.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/700-logon-as-admin.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/710-order-payment-received.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/710-order-payment-received.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/720-partial-payment.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/720-partial-payment.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/730-payment-received-updated.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/730-payment-received-updated.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/740-further-payment-defaulted.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/740-further-payment-defaulted.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/750-bug-overwrites-amount.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/750-bug-overwrites-amount.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/760-partial-payment-take-2.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/760-partial-payment-take-2.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/770-bug-rounds-down.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/770-bug-rounds-down.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/780-print-order.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/780-print-order.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/790-order-downloaded.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/790-order-downloaded.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/800-order-open-in-word.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/800-order-open-in-word.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/810-view-suppliers.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/810-view-suppliers.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/820-supplier-list-all.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/820-supplier-list-all.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/830-ingredients-to-order.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/830-ingredients-to-order.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/840-ingredients-to-order-specify-event.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/840-ingredients-to-order-specify-event.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/850-ingredients-to-order-downloaded.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/850-ingredients-to-order-downloaded.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/860-ingredients-to-order-open-in-word.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/860-ingredients-to-order-open-in-word.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/900-all-users.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/900-all-users.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/910-person-is-an-application-user.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/910-person-is-an-application-user.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/920-person-has-roles.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/920-person-has-roles.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/930-admin-has-security-admin-role.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/930-admin-has-security-admin-role.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/940-tenancy-switcher.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/940-tenancy-switcher.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/950-switch-tenancy.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/950-switch-tenancy.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/960-person-find-by-name.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/960-person-find-by-name.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/960-person-list-all.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/960-person-list-all.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/970-person-find-by-name-prompt.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/970-person-find-by-name-prompt.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/980-person-list.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/980-person-list.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/990-person.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/990-person.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/992-ide-import.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/992-ide-import.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/994-rest-api.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/994-rest-api.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/995-rest-services.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/995-rest-services.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/996-rest-events-list.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/996-rest-events-list.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/997-rest-events-list-invoke.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/997-rest-events-list-invoke.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/997-rest-event-view.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/997-rest-event-view.png"]

image::https://raw.githubusercontent.com/incodehq/radrace2015/master/images/999-rest-event.png[link="https://raw.githubusercontent.com/incodehq/radrace2015/master/images/999-rest-event.png"]






== Learnings

Why didn't we win?



